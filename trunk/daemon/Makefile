include ../Makefile.inc

#
#	Object file generation
#
CPPS = $(wildcard *.cpp \
		  ./hci/*.cpp \
		  ./services/*.cpp \
		  ./services/database/*.cpp \
		  ./services/pan/*.cpp \
		  ../cbus/*.cpp \
		  ../common/*.cpp \
		  ../libbluetool/linux/*.cpp \
	)

OBJS = $(addsuffix .o, $(basename $(CPPS) ) )

all:		$(RULEFILE) bluetool-daemon

clean:
		rm -v $(OBJS) ;	rm -v $(RULEFILE)

bluetool-daemon:	$(OBJS)
			g++ $(OBJS) $(LDFLAGS) -o bluetool-daemon

#
#	Autogenerated rules
#
include $(RULEFILE)

rules:		$(RULEFILE)

$(RULEFILE):
		gcc $(ALLCFLAGS) -MM $(CPPS) > $(RULEFILE) 


