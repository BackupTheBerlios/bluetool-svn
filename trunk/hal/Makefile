include ../Makefile.inc

#
#	Object file generation
#
CPPS = $(wildcard *.cpp ../common/*.cpp ../cbus/*.cpp)
OBJS = $(addsuffix .o, $(basename $(CPPS) ) )

all:		$(RULEFILE) $(OBJS)

clean:
		rm -v $(OBJS) ;	rm -v $(RULEFILE); rm -v ./test/test.o

haltest:	$(OBJS) ./test/test.o 
		g++ $(OBJS) ./test/test.o $(LDFLAGS) -o test/haltest

#
#	Autogenerated rules
#
include $(RULEFILE)

rules:		$(RULEFILE)

$(RULEFILE):
		gcc $(ALLCFLAGS) -MM $(CPPS) > $(RULEFILE) 


